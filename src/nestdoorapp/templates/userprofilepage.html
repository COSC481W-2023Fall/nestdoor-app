{% load static %}
<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="{% static '/css/userprofile.css' %}" />
        <meta charset="UTF-8" />
        <title>Home Page</title>
    </head>
    <body>
        <div class="wrapper">
          <!-- save for future use --lu -->
          <!-- <div class="section"></div>
          <div class="section"></div> -->
          <div class="image"></div>
        </div>

        <div id="page-container">
            <div id="content-wrap">
                <div class="topnav">
                    <a href="/homepage"><img src={% static '/images/reed_logo_mini.png' %} alt="Nestdoor App Logo Small" style="width:30px;height:30px;" class="center" ></a>
                    <a class="active" href="">Home</a>
                    {% if user.is_authenticated %}
                    <a href="/logout">Logout</a>
                    {% else %}
                    <a href="/login">Login</a>
                    {% endif %}
                    <a href="/forum">Forum</a>
                    <a href="/about">About</a>
                </div>
                <!-- Show user's name --Sal -->            
                <h3>If you're only seeing "'s", then current html only works for logged in user!</h3>
                <h1 style="text-align: center;">{{user.username}}'s Profile Page</h1>
                <!-- If the user is logged in, then the About Me info is still shown, alongside the ability to edit that information --Sal -->
                {% if user.is_authenticated %}
                <h1 style="padding-left: 10px;">About me!</h1>
                <div id="container">
                    <div class="aboutme_content">
                        <p id="edit" style="color:darkgreen">
                            <b> "Oh? Your mouse is approaching me?"<br> "It can't edit your content without getting closer."<br> "Oh ho! Then move your mouse as close as you like." </b>
                        </p>
                    </div>
                    <button type="submit" id="edit-button">Edit</button>
                    <button type="submit" id="end-editing">Finish Editing</button>
                </div>
                <!-- If the user is NOT logged in, then the About Me info is ONLY shown for that user --Sal -->
                {% else %}
                <h1 style="padding-left: 10px;">About me!</h1>
                <div class="aboutme_content">
                    <p style="color:darkgreen">
                        <b> Hello, I like to go fishing! </b>
                    </p>
                </div>
                {% endif %}
                <!-- User's Contributions --Sal -->
                <h3 style="padding-left: 10px;"><u>{{user.username}}'s Contributions</u><br> Posts: Number of user's posts here<br> Comments: Number of user's comments here</h3>
            </div>
            <div class="footer">
                <p class="footer-text-left">
                    TEAM EAGLES
                </p>
                <p class="footer-text-right">
                    COSC 481
                </p>

                <div class="footer-content-center">
                    <a href="/homepage"><img src={% static '/images/reed_logo2.png' %} class="icon-style" alt="Nestdoor App Logo Small"></a>
                </div>
            </div>
        </div>
        <!-- The following javascript are for the buttons ("Edit" and "Finish Editing") and paragraph.  --Sal -->
        <script> 
            const paragraph = document.getElementById("edit"); //The actual About Me paragraph stuff
            const edit_button = document.getElementById("edit-button"); //Edit button
            const end_button = document.getElementById("end-editing"); //Finish Editing button
            end_button.style.visibility = "hidden"; //Hides "Finish Editing" button upon page load

            edit_button.addEventListener("click", function() { //Once "Edit" is clicked, about me is now editable and "Finish Editing" button is visible, but "Edit" is no longer visible
                paragraph.contentEditable = true;
                paragraph.style.backgroundColor = "#fffaf0";
                end_button.style.visibility = "visible";
                edit_button.style.visibility = "hidden";
            } );

            end_button.addEventListener("click", function() { //Once "Finish Editing" is clicked, about me is no longer editable and "Edit" button is visible, but "Finish Editing" is no longer visible
                paragraph.contentEditable = false;
                paragraph.style.backgroundColor = "#fffaf0";
                end_button.style.visibility = "hidden"; 
                edit_button.style.visibility = "visible";
            } )
        </script>
    </body>
</html>